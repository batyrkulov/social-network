{"version":3,"sources":["hoc/withAuthRedirect.js","cmps/Common/Form/Textarea.js","cmps/Content/Dialogs/Dialogs.module.css","cmps/Content/Dialogs/Person/Person.module.css","cmps/Content/Dialogs/Person/Person.jsx","cmps/Content/Dialogs/Message/Message.jsx","cmps/Content/Dialogs/Dialogs.jsx","cmps/Content/Dialogs/DialogsContainer.jsx"],"names":["withAuthRedirect","Component","connect","state","isAuth","auth","props","to","Textarea","meta","input","restProps","module","exports","Person","id","activeClassName","p","activeLink","name","Message","text","maxLen100","maxLenCreator","AddMessageReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","validate","required","placeholder","Dialogs","dialogsPage","personsElement","persons","map","person","key","messagesElement","messages","message","className","d","dialog","data","addMessage","newMessageText","compose","dispatch","addMessageAC"],"mappings":"0FAAA,oCAmBeA,IAfQ,SAAAC,GAYnB,OAAOC,aAJc,SAAAC,GAAK,MAAI,CAC1BC,OAAQD,EAAME,KAAKD,UAGhBF,EAXW,SAAAI,GACd,OAAKA,EAAMF,OAGA,kBAACH,EAAcK,GAFf,kBAAC,IAAD,CAAUC,GAAE,gB,uGCJlBC,EAAW,SAAC,GAAgC,IAA/BC,EAA8B,EAA9BA,KAAMC,EAAwB,EAAxBA,MAAUC,EAAc,gCACpD,OAAO,kBAAC,IAAD,CAAmBF,KAAMA,GAC5B,8CAAcC,EAAWC,O,oBCJjCC,EAAOC,QAAU,CAAC,OAAS,wBAAwB,QAAU,yBAAyB,SAAW,4B,oBCAjGD,EAAOC,QAAU,CAAC,WAAa,6B,uICWhBC,EARA,SAACR,GACZ,OACI,6BACI,kBAAC,IAAD,CAASC,GAAI,YAAYD,EAAMS,GAAIC,gBAAiBC,IAAEC,YAAaZ,EAAMa,QCItEC,G,OARC,SAACd,GACb,OACI,6BACKA,EAAMe,Q,mCC2BbC,EAAYC,YAAc,KAC1BC,EAAsBC,YAAU,CAACC,KAAM,iBAAjBD,EAAmC,SAAAnB,GAC3D,OAAO,0BAAMqB,SAAUrB,EAAMsB,cACzB,kBAACC,EAAA,EAAD,CAAOC,UAAWtB,IAAUW,KAAI,iBAAoBY,SAAU,CAACC,IAAUV,GAAYW,YAAW,cAChG,6BACI,6CAIGC,EAlCC,SAAC5B,GACb,IAAIH,EAAQG,EAAM6B,YAEdC,EAAiBjC,EAAMkC,QAAQC,KAAI,SAAAC,GAAM,OAAI,kBAAC,EAAD,CAAQxB,GAAIwB,EAAOxB,GAAIyB,IAAKD,EAAOxB,GAAII,KAAMoB,EAAOpB,UACjGsB,EAAkBtC,EAAMuC,SAASJ,KAAI,SAAAK,GAAO,OAAI,kBAAC,EAAD,CAAS5B,GAAI4B,EAAQ5B,GAAIyB,IAAKG,EAAQ5B,GAAIM,KAAMsB,EAAQtB,UAM5G,OACI,yBAAKuB,UAAWC,IAAEC,QACd,yBAAKF,UAAWC,IAAER,SACbD,GAEL,yBAAKQ,UAAWC,IAAEH,UACd,6BAAMD,GACN,6BACI,kBAACjB,EAAD,CAAqBG,SAZZ,SAAAoB,GACrBzC,EAAM0C,WAAWD,EAAKE,uB,wBCKfC,sBACXlD,IACAE,aAfoB,SAAAC,GACpB,MAAO,CACHgC,YAAahC,EAAMgC,gBAGA,SAAAgB,GACvB,MAAO,CACHH,WAAY,SAAAC,GACRE,EAASC,YAAaH,SAKnBC,CAGbhB","file":"static/js/5.5d114042.chunk.js","sourcesContent":["import React from \"react\";\nimport {Redirect} from 'react-router-dom';\nimport {connect} from \"react-redux\";\n\nlet withAuthRedirect = Component=> {\n    let RedirectCmp = props => {\n        if (!props.isAuth)\n            return <Redirect to={`/login`} />\n        else\n            return <Component {...props}/>\n    }\n\n    let mapStateToProps =state=> ({\n        isAuth: state.auth.isAuth\n    });\n\n    return connect(mapStateToProps)(RedirectCmp);\n}\n\nexport default withAuthRedirect;","import React from \"react\";\nimport {FormFieldReaction} from \"./FormFieldReaction\";\n\nexport const Textarea = ({meta, input, ...restProps})=> {\n    return <FormFieldReaction meta={meta}>\n        <textarea {...input} {...restProps}/>\n    </FormFieldReaction>\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"Dialogs_dialog__14tnp\",\"persons\":\"Dialogs_persons__2Is3X\",\"messages\":\"Dialogs_messages__2kzKr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"activeLink\":\"Person_activeLink__12x7a\"};","import React from \"react\";\nimport p from './Person.module.css';\nimport {NavLink} from 'react-router-dom';\n\nconst Person = (props) => {\n    return (\n        <div>\n            <NavLink to={'/dialogs/'+props.id} activeClassName={p.activeLink}>{props.name}</NavLink>\n        </div>\n    );\n}\n\nexport default Person;","import React from \"react\";\nimport m from './Message.module.css';\n\nconst Message = (props) => {\n    return (\n        <div>\n            {props.text}\n        </div>\n    );\n}\n\nexport default Message;","import React, {useEffect, useState} from \"react\";\nimport d from './Dialogs.module.css';\nimport Person from \"./Person/Person\";\nimport Message from \"./Message/Message\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {Textarea} from \"../../Common/Form/Textarea\";\nimport {maxLenCreator, required} from \"../../../utils/validators/validators\";\n\nconst Dialogs = (props) => {\n    let state = props.dialogsPage;\n\n    let personsElement = state.persons.map(person => <Person id={person.id} key={person.id} name={person.name} />);\n    let messagesElement = state.messages.map(message => <Message id={message.id} key={message.id} text={message.text}/>);\n\n    let onSendMessageClick = data=> {\n        props.addMessage(data.newMessageText);\n    }\n\n    return (\n        <div className={d.dialog}>\n            <div className={d.persons}>\n                {personsElement}\n            </div>\n            <div className={d.messages}>\n                <div>{messagesElement}</div>\n                <div>\n                    <AddMessageReduxForm onSubmit={onSendMessageClick} />\n                </div>\n            </div>\n        </div>\n    );\n}\n\nconst maxLen100 = maxLenCreator(100);\nconst AddMessageReduxForm = reduxForm({form: 'addMessgeForm'})(props=> {\n    return <form onSubmit={props.handleSubmit}>\n        <Field component={Textarea} name={`newMessageText`} validate={[required, maxLen100]} placeholder={`Type here`}/>\n        <div>\n            <button>Send</button>\n        </div>\n    </form>\n});\nexport default Dialogs;","import React from \"react\";\nimport {addMessageAC} from \"../../../redux/dialogs-reducer\";\nimport Dialogs from \"./Dialogs\";\nimport {connect} from \"react-redux\";\nimport withAuthRedirect from \"../../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\nconst mapStateToProps = state=>{\n    return {\n        dialogsPage: state.dialogsPage\n    }\n}\nconst mapDispatchToProps = dispatch=>{\n    return {\n        addMessage: newMessageText=> {\n            dispatch(addMessageAC(newMessageText));\n        }\n    }\n}\n\nexport default compose (\n    withAuthRedirect,\n    connect(mapStateToProps, mapDispatchToProps)\n)(Dialogs);"],"sourceRoot":""}